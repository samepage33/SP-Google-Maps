/**
 * @package WordPress
 * @subpackage SP Google Maps
 * @version 1.1
 * @since SP Google Maps 1.0
 */
function geo_error_worn(e){switch(e.code){case e.TIMEOUT:alert(mapdata.messages.geo_timeout);break;case e.POSITION_UNAVAILABLE:alert(mapdata.messages.geo_position_unavailable);break;case e.PERMISSION_DENIED:alert(mapdata.messages.geo_permission_denied);break;case e.UNKNOWN_ERROR:alert(mapdata.messages.geo_unknown_error)}}function initialize(){var e=new google.maps.LatLng(latitude,longitude);directionsDisplay=new google.maps.DirectionsRenderer;var a={zoom:14,center:e,styles:styles,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0},t=new google.maps.Map(document.getElementById("map_canvas_"+mapdata.mapid),a);directionsDisplay.setMap(t),directionsDisplay.setPanel(document.getElementById("directionsPanel"));var i=new google.maps.Marker({position:new google.maps.LatLng(Number(mapdata.lat),Number(mapdata.lng)),map:t,icon:mapdata.icon,animation:google.maps.Animation.DROP,title:mapdata.title}),o=new google.maps.InfoWindow({content:mapdata.description});google.maps.event.addListener(i,"click",function(){o.open(t,i)})}function initialize2(){{var e=new google.maps.LatLng(Number(mapdata.lat),Number(mapdata.lng)),a={position:e,pov:{heading:Number(mapdata.heading),pitch:Number(mapdata.pitch)}};new google.maps.StreetViewPanorama(document.getElementById("pano_"+mapdata.mapid),a)}}var directionsDisplay,directionsService=new google.maps.DirectionsService,options={enableHighAccuracy:!0,timeout:6e4,maximumAge:0},styles=JSON.parse(mapdata.style),latitude=Number(mapdata.lat),longitude=Number(mapdata.lng),PublicTransitLink="https://www.google.com/maps?hl=en&ie=UTF8&f=d&dirflg=r&saddr="+latitude+","+longitude+"&daddr="+mapdata.messages.client_location_request,WalkingDirectionsLink="https://www.google.com/maps?hl=en&ie=UTF8&f=d&dirflg=w&saddr="+latitude+","+longitude+"&daddr="+mapdata.messages.client_location_request,DrivingDirectionLink="https://www.google.com/maps?hl=en&ie=UTF8&f=d&dirflg=d&saddr="+latitude+","+longitude+"&daddr="+mapdata.messages.client_location_request;jQuery(document).ready(function(e){e(".travelMode").click(function(a){var t=e(this).attr("data-travelMode");navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var a=e.coords.latitude,i=e.coords.longitude;if("TRANSIT"==t)PublicTransitLink=PublicTransitLink.replace(mapdata.messages.client_location_request,a+","+i),location.href=PublicTransitLink;else{var o=new google.maps.LatLng(a,i),n=o,s=new google.maps.LatLng(latitude,longitude),r={origin:n,destination:s,travelMode:google.maps.TravelMode[t]};directionsService.route(r,function(e,a){"ZERO_RESULTS"==a?alert(mapdata.messages.g_zero_results):"UNKNOWN_ERROR"==a?alert(mapdata.messages.geo_unknown_error):"REQUEST_DENIED"==a?alert(mapdata.messages.g_request_denied):"OVER_QUERY_LIMIT"==a?alert(mapdata.messages.g_over_query_limit):"NOT_FOUND"==a?alert(mapdata.messages.g_not_found):"INVALID_REQUEST"==a?alert(mapdata.messages.g_invalid_request):a==google.maps.DirectionsStatus.OK?directionsDisplay.setDirections(e):alert(mapdata.messages.g_no_status_found+" "+a)})}},geo_error_worn,options):(alert(mapdata.messages.geo_not_supported),e('*[data-travelMode="DRIVING"]').attr("href",DrivingDirectionLink),e('*[data-travelMode="WALKING"]').attr("href",WalkingDirectionsLink),e('*[data-travelMode="TRANSIT"]').attr("href",PublicTransitLink)),a.preventDefault()})}),google.maps.event.addDomListener(window,"load",initialize),google.maps.event.addDomListener(window,"load",initialize2);