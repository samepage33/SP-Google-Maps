/**
 * @package WordPress
 * @subpackage SP Google Maps
 * @version 1.1
 * @since SP Google Maps 1.0
 */
function geo_error_worn(e){switch(e.code){case e.TIMEOUT:alert(mapdata.messages.geo_timeout);break;case e.POSITION_UNAVAILABLE:alert(mapdata.messages.geo_position_unavailable);break;case e.PERMISSION_DENIED:alert(mapdata.messages.geo_permission_denied);break;case e.UNKNOWN_ERROR:alert(mapdata.messages.geo_unknown_error)}}function initMap(){var e=new google.maps.LatLng(latitude,longitude);directionsDisplay=new google.maps.DirectionsRenderer;var a={center:e,scrollwheel:mwscroll,styles:styles,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,streetViewControl:!1,zoom:Number(mapdata.maps_zoom)},t=new google.maps.Map(document.getElementById("map_canvas_"+mapdata.mapid),a);directionsDisplay.setMap(t),directionsDisplay.setPanel(document.getElementById("directionsPanel"));var o=new google.maps.Marker({position:e,map:t,icon:mapdata.icon,animation:google.maps.Animation.DROP,title:mapdata.title});if(""!=mapdata.description){var i=new google.maps.InfoWindow({content:mapdata.description});google.maps.event.addListener(o,"click",function(){i.open(t,o)})}}function initStreetView(){var e=new google.maps.LatLng(sv_latitude,sv_longitude),a={position:e,scrollwheel:mwscroll,pov:{heading:Number(mapdata.heading),pitch:Number(mapdata.pitch)},zoom:Number(mapdata.sv_zoom)};new google.maps.StreetViewPanorama(document.getElementById("pano_"+mapdata.mapid),a)}var directionsDisplay,directionsService=new google.maps.DirectionsService,options={enableHighAccuracy:!0,timeout:6e4,maximumAge:0};if("undefined"!=typeof mapdata.style)var styles=JSON.parse(mapdata.style);else var styles="";var latitude=Number(mapdata.lat),longitude=Number(mapdata.lng),mwscroll=JSON.parse(mapdata.mwscroll),PublicTransitLink="https://www.google.com/maps?hl=en&ie=UTF8&f=d&dirflg=r&saddr="+encodeURI(mapdata.messages.client_location_request)+"&daddr="+latitude+","+longitude,WalkingDirectionsLink="https://www.google.com/maps?hl=en&ie=UTF8&f=d&dirflg=w&saddr="+encodeURI(mapdata.messages.client_location_request)+"&daddr="+latitude+","+longitude,DrivingDirectionLink="https://www.google.com/maps?hl=en&ie=UTF8&f=d&dirflg=d&saddr="+encodeURI(mapdata.messages.client_location_request)+"&daddr="+latitude+","+longitude;jQuery(document).ready(function(e){e(".travelMode").click(function(a){var t=(e(this),e(this).attr("data-travelMode"));navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var a=e.coords.latitude,o=e.coords.longitude;if("TRANSIT"==t)PublicTransitLink=PublicTransitLink.replace(encodeURI(mapdata.messages.client_location_request),a+","+o),location.href=PublicTransitLink;else{var i=new google.maps.LatLng(a,o),n=i,s=new google.maps.LatLng(latitude,longitude),r={origin:n,destination:s,travelMode:google.maps.TravelMode[t],drivingOptions:{departureTime:new Date(Date.now()),trafficModel:"optimistic"}};directionsService.route(r,function(e,a){"ZERO_RESULTS"==a?alert(mapdata.messages.g_zero_results):"UNKNOWN_ERROR"==a?alert(mapdata.messages.geo_unknown_error):"REQUEST_DENIED"==a?alert(mapdata.messages.g_request_denied):"OVER_QUERY_LIMIT"==a?alert(mapdata.messages.g_over_query_limit):"NOT_FOUND"==a?alert(mapdata.messages.g_not_found):"INVALID_REQUEST"==a?alert(mapdata.messages.g_invalid_request):a==google.maps.DirectionsStatus.OK?directionsDisplay.setDirections(e):alert(mapdata.messages.g_no_status_found+" "+a)})}},geo_error_worn,options):(alert(mapdata.messages.geo_not_supported),e('*[data-travelMode="DRIVING"]').attr("href",DrivingDirectionLink),e('*[data-travelMode="WALKING"]').attr("href",WalkingDirectionsLink),e('*[data-travelMode="TRANSIT"]').attr("href",PublicTransitLink)),a.preventDefault()})}),google.maps.event.addDomListener(window,"load",initMap);var sv_latitude=Number(mapdata.sv_lat),sv_longitude=Number(mapdata.sv_lng);google.maps.event.addDomListener(window,"load",initStreetView);